<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4>Your Categories</h4>
    <a class="btn btn-primary" routerLink="/category-add">+ Add Category</a>
  </div>

  @if (categories.length === 0) {
    <div class="text-muted">No categories added yet.</div>
  }

  <div class="list-group">
    @for (category of categories; track category) {
      <div class="list-group-item d-flex justify-content-between align-items-center position-relative">
        <span>{{ category.name }}</span>

        <button class="btn btn-sm btn-light" (click)="toggleDropdown(category)">
          â‹®
        </button>

        @if (dropdownOpen === category) {
          <div
            class="position-absolute bg-white border rounded shadow-sm"
            style="top: 30px; right: 10px; z-index: 1000; width: 120px;"
          >
            <button class="btn btn-sm w-100 text-start" (click)="editCategory(category)">Edit</button>
            <button class="btn btn-sm w-100 text-start text-danger" (click)="deleteCategory(category)">Delete</button>
          </div>
        }
      </div>
    }
  </div>
</div>
